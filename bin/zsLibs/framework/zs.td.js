window.zs=window.zs||{},function(a){"use strict";class l{static init(){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.tdAppSdk&&null!=GameGlobal.tdInit?null==this.appKey||this.appKey.length<=0?zs.log.warn("appKey非法，无法正常设置TD SDK","Talking Data"):null==this.appName||this.appName.length<=0?zs.log.warn("appName非法，无法正常设置TD SDK","Talking Data"):null==this.appId||this.appId.length<=0?zs.log.warn("appId非法，无法正常设置TD SDK","Talking Data"):(GameGlobal.tdInit.init(),this.TDSDK=GameGlobal.tdAppSdk):zs.log.warn("无法初始化TD SDK","Talking Data"))}static registeInfo(a,l){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.tdAppSdk&&null!=GameGlobal.tdInit?(null==this.infos&&(this.infos={}),null==this.infos[a]&&(this.infos[a]={}),l&&(this.infos[a]=l)):zs.log.warn("TD SDK不存在，无法注册配置","Talking Data"))}static async registeConfig(a){if("undefined"!=typeof wx)if("undefined"!=typeof GameGlobal&&null!=GameGlobal.tdAppSdk&&null!=GameGlobal.tdInit)if(a){for(let l in a)this.registeInfo(l,a[l]);zs.log.debug("注册数据配置表成功","Talking Data")}else zs.log.warn("注册数据配置表失败","Talking Data");else zs.log.warn("TD SDK不存在，无法注册配置表","Talking Data")}static justTrack(a,l,e){this.TDSDK&&(zs.log.debug("TD数据统计 "+a+" : "+l,"Talking Data",e),this.TDSDK.event({id:a,label:l,params:e}))}static track(a,l){if(!this.TDSDK||null==this.infos)return;let e=a.split("_",2),n=null,t="";if(e.length>1?(n=this.infos[e[0]+"_"])&&(t=n.label+e[1]):t=(n=this.infos[a]).label,null==n)return void zs.log.warn("数据时间未注册，无法上报数据： "+a,"Talking Data");let p={},o=!1;if(null!=n.params&&n.params.length>0)if(null==l)n.strict&&(zs.log.warn("缺少必要属性，无法上报数据: "+key,"Talking Data"),o=!0);else for(let a=0,e=n.params.length;a<e;a++){let e=n.params[a];if(null==l[e]&&n.strict){zs.log.warn("缺少必要属性，无法上报数据: "+e,"Talking Data"),o=!0;break}p[e]=l[e]}o||(zs.log.debug("TD数据统计 "+a+" : "+t,"Talking Data",p),this.TDSDK.event({id:a,label:t,params:p}))}static get appKey(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取appKey","Talking Data"),null):GameGlobal.appInfo.app.appKey}static set appKey(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.appKey=a:zs.log.warn("TD SDK不存在，无法设置appKey","Talking Data"))}static get appName(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取appName","Talking Data"),null):GameGlobal.appInfo.app.displayName}static set appName(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.displayName=a:zs.log.warn("TD SDK不存在，无法设置appName","Talking Data"))}static get appId(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取appId","Talking Data"),null):GameGlobal.appInfo.app.uniqueId}static set appId(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.uniqueId=a:zs.log.warn("TD SDK不存在，无法设置appId","Talking Data"))}static get versionName(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取versionName","Talking Data"),null):GameGlobal.appInfo.app.versionName}static set versionName(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.versionName=a:zs.log.warn("TD SDK不存在，无法设置appKey","Talking Data"))}static get versionCode(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取versionCode","Talking Data"),null):GameGlobal.appInfo.app.versionCode}static set versionCode(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.versionCode=a:zs.log.warn("TD SDK不存在，无法设置appKey","Talking Data"))}static get channel(){return"undefined"==typeof wx?null:"undefined"==typeof GameGlobal||null==GameGlobal.appInfo?(zs.log.warn("TD SDK不存在，无法获取channel","Talking Data"),null):GameGlobal.appInfo.app.channel}static set channel(a){"undefined"!=typeof wx&&("undefined"!=typeof GameGlobal&&null!=GameGlobal.appInfo?GameGlobal.appInfo.app.channel=a:zs.log.warn("TD SDK不存在，无法设置channel","Talking Data"))}}l.workflowKey="workflow_",l.workflowDesc="工作流-",l.startupKey="startup",l.startupDesc="启动游戏",l.gameStartKey="gameStart",l.gameStartDesc="开始游戏",a.td=l}(window.zs=window.zs||{});