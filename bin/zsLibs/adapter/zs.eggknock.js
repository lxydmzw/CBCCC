window.zs=window.zs||{},function(e,t){"use strict";class a{static init(){this.markGameNum(),this.markAwardNum(),this.markReadyNum()}static markGameNum(e){let t=zs.utils.getItem(a.key_game_num_time_stamp);null!=t&&""!=t&&0!=zs.utils.isToday(Number(t))||(zs.utils.setItem(a.key_game_num_time_stamp,Date.now().toString()),zs.utils.setItem(a.key_game_num,"1")),a.day_game_num=zs.utils.getItem(a.key_game_num)||1,a.day_game_num=e?Number(a.day_game_num)+1:Number(a.day_game_num),zs.utils.setItem(a.key_game_num,a.day_game_num.toString())}static markAwardNum(e){let t=zs.utils.getItem(a.key_award_num_time_stamp);null!=t&&""!=t&&0!=zs.utils.isToday(Number(t))||(zs.utils.setItem(a.key_award_num_time_stamp,Date.now().toString()),zs.utils.setItem(a.key_award_num,"1")),a.open_award_num=zs.utils.getItem(a.key_award_num)||1,a.open_award_num=e?Number(a.open_award_num)+1:Number(a.open_award_num),zs.utils.setItem(a.key_award_num,a.open_award_num.toString())}static markReadyNum(e){let t=zs.utils.getItem(a.key_ready_num_time_stamp);null!=t&&""!=t&&0!=zs.utils.isToday(Number(t))||(zs.utils.setItem(a.key_ready_num_time_stamp,Date.now().toString()),zs.utils.setItem(a.key_ready_num,"1")),a.open_ready_num=zs.utils.getItem(a.key_ready_num)||1,a.open_ready_num=e?Number(a.open_ready_num)+1:Number(a.open_ready_num),zs.utils.setItem(a.key_ready_num,a.open_ready_num.toString())}static checkEggOpen(e){if(!a.switch)return!1;let t=zs.product.get("zs_click_award_since");if(t&&t>0&&(!a.day_game_num||Number(a.day_game_num)<t))return!1;let m=e?zs.product.get("zs_ready_click_num"):zs.product.get("zs_click_award_num");if(null!=m&&""!=m.trim()||(m="1"),m=JSON.parse(m),Array.isArray(m)){if(m.length<=0)return!1;if(0==m.length&&m[0]<0)return!0;if(m.indexOf(a.day_game_num)>=0)return!0}else{if(m=parseInt(m),isNaN(m))return!1;if(m<0)return!0;if(m>(e?a.open_ready_num:a.open_award_num))return!0}return!1}static checkSwitchStatus(e){let m=zs.core.appId+"."+e,_=zs.core.appId+".timestamp."+e,n=t.LocalStorage.getItem(m);console.log("get switch num",e,n),null!=n&&""!=n.trim()||(n=0);let r=t.LocalStorage.getItem(_);if(null!=r&&""!=r&&0!=zs.utils.isToday(Number(r))||(t.LocalStorage.setItem(_,Date.now().toString()),n=0,console.log("重置")),t.LocalStorage.setItem(m,(++n).toString()),!a.switch)return!1;let u=zs.product.get(e);if(console.log("开关",e,n,u),null!=u&&""!=u.trim()||(u="0"),u=JSON.parse(u),Array.isArray(u)){if(u.length<=0)return!1;if(0==u.length&&u[0]<0)return!0;if(u.indexOf(n)>=0)return!0}else{if(u=parseInt(u),isNaN(u))return!1;if(u<0)return!0;if(u>=n)return!0}return!1}}a.switch=!0,a.key_game_num="day_game_num",a.key_award_num="open_award_num",a.key_ready_num="open_ready_num",a.key_award_num_time_stamp="open_award_num_time_stamp",a.key_ready_num_time_stamp="open_ready_num_time_stamp",a.key_game_num_time_stamp="game_num_time_stamp",a.open_award_num=0,a.open_ready_num=0,a.day_game_num=0,e.EggKnock=a}(window.zs=window.zs||{},Laya);